<div class="flex flex-col h-full">
  <form
    class="flex flex-col h-full"
    [formGroup]="analyzeForm"
    (ngSubmit)="launchAnalyze()"
  >
    <div class="flex-1 flex flex-col">
      <div class="form-group">
        <h4>NEW QUERY</h4>
        <input
          autocomplete="off"
          type="text"
          id="name"
          placeholder="Enter query name"
          formControlName="name"
        />
      </div>
      <div class="flex-1">
        <!-- (firstDataRendered)="onFirstDataRendered($event)" -->
        <ag-grid-angular
          class="ag-theme-alpine w-full h-full"
          [columnDefs]="columnDefs"
          [defaultColDef]="defaultColDef"
          [rowData]="rowData"
          [rowSelection]="'multiple'"
          [rowMultiSelectWithClick]="true"
          (gridReady)="onGridReady($event)"
          (selectionChanged)="onSelectionChanged()"
        ></ag-grid-angular>
      </div>
    </div>
    <div class="dialog-actions flex justify-end mt-4">
      <button
        type="button"
        class="btn-light px-4 py-2 mr-2"
        (click)="close()"
      >
        Cancel
      </button>
      <button
        type="submit"
        class="btn px-4 py-2"
        [disabled]="analyzeForm.invalid"
      >
        Launch
      </button>
    </div>
  </form>
</div>
